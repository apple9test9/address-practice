<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>住所録20件入力練習</title>
<style>
body{
  font-family:"Yu Gothic","Meiryo",sans-serif;
  background:#f4f6f8;
  padding:0;
  margin:0;
}
.container{
  max-width:1000px;
  margin:auto;
  background:white;
  padding:25px;
  border:1px solid #ccc;
}
h1{
  margin-bottom:20px;
  border-bottom:2px solid #333;
  padding-bottom:10px;
}
.info{
  display:flex;
  justify-content:space-between;
  margin-bottom:15px;
  font-size:16px;
}
#question{
  font-size:20px;
  padding:10px;
  border:1px solid #ccc;
  background:#fafafa;
  margin-bottom:10px;
}
input{
  font-size:20px;
  padding:6px;
  width:100%;
  box-sizing:border-box;
  margin-bottom:15px;
}
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  border:1px solid #ccc;
  padding:6px;
  font-size:16px;
}
th{
  background:#e9ecef;
}
.correct{
  color:blue;
  font-weight:bold;
}
.miss{
  color:red;
  font-weight:bold;
}
.error-char{
  color:red;
  font-weight:bold;
}
ruby rt{
  font-size:11px;
  color:#777;
}
#summary{
  margin:15px 0;
  font-size:18px;
}
#endMessage{
  margin-bottom:15px;
  font-size:18px;
  font-weight:bold;
}
/* スタート画面 */
#startScreen{
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  flex-direction:column;
  background:#f4f6f8;
  text-align:center;
}
#startScreen h1{
  margin-bottom:15px;
}
/* スタート画面の文章は左揃えに */
#startScreen p{
  text-align:left;  /* ←ここを追加 */
  margin-bottom:15px;
  font-size:16px;
}
#startBtn{
  font-size:24px;
  padding:15px 30px;
  cursor:pointer;
}
</style>
</head>
<body>

<!-- スタート画面 -->
<div id="startScreen">
  <h1>住所録20件入力練習</h1>
  <p>制限時間: 10分</p>
  <button id="startBtn">開始</button>
</div>

<!-- 練習画面 -->
<div class="container" style="display:none;">
  <h1>住所録20件入力練習</h1>
  <!-- 説明文をここに追加 -->
  <p>
    ①Enterキーで次の問題に進みます。<br>
    ②20件すべて入力すると練習は終了です。<br>
    ③住所の表示はルビの影響で文字と文字の間が広く見えることがありますが、入力のときに空白を入れる必要はありません。<br>
    ④ 入力するときは「姓　名　住所」のように全角スペースを入れて入力してください。<br>
    ⑤タイム目安（参考）:<br>
    ・5分以内 → 神レベル ・6分以内 → 実務でも十分 ・10分以内 → 標準（平均的な速度）<br> 
  </p>
  </p>
  <div class="info">
    <div>現在：<span id="currentNo">1</span> / <span id="totalCount"></span> 件目</div>
    <div id="timer">残り時間: 10:00</div>
  </div>

  <div id="question"></div>
  <input type="text" id="answer" autocomplete="off" maxlength="100">

  <div id="summary"></div>
  <div id="endMessage"></div>

  <table>
    <thead>
      <tr>
        <th>No</th>
        <th>氏名・住所</th>
        <th>入力内容</th>
        <th>判定</th>
      </tr>
    </thead>
    <tbody id="tableBody"></tbody>
  </table>
</div>

<script>
// --- データ ---
const data = [
  {q:`<ruby>山田<rt>やまだ</rt></ruby>　<ruby>太郎<rt>たろう</rt></ruby>　<ruby>東京都<rt>とうきょうと</rt></ruby><ruby>新宿区<rt>しんじゅくく</rt></ruby><ruby>西新宿<rt>にししんじゅく</rt></ruby>2-8-1`, a:"山田　太郎　東京都新宿区西新宿2-8-1"},
  {q:`<ruby>佐藤<rt>さとう</rt></ruby>　<ruby>花子<rt>はなこ</rt></ruby>　<ruby>大阪府<rt>おおさかふ</rt></ruby><ruby>大阪市<rt>おおさかし</rt></ruby><ruby>北区<rt>きたく</rt></ruby><ruby>梅田<rt>うめだ</rt></ruby>1-1-3`, a:"佐藤　花子　大阪府大阪市北区梅田1-1-3"},
  {q:`<ruby>鈴木<rt>すずき</rt></ruby>　<ruby>一郎<rt>いちろう</rt></ruby>　<ruby>神奈川県<rt>かながわけん</rt></ruby><ruby>横浜市<rt>よこはまし</rt></ruby><ruby>中区<rt>なかく</rt></ruby><ruby>山下町<rt>やましたちょう</rt></ruby>10-5`, a:"鈴木　一郎　神奈川県横浜市中区山下町10-5"},
  {q:`<ruby>高橋<rt>たかはし</rt></ruby>　<ruby>美咲<rt>みさき</rt></ruby>　<ruby>北海道<rt>ほっかいどう</rt></ruby><ruby>札幌市<rt>さっぽろし</rt></ruby><ruby>中央区<rt>ちゅうおうく</rt></ruby><ruby>南<rt>みなみ</rt></ruby>1<ruby>条<rt>じょう</rt></ruby><ruby>西<rt>にし</rt></ruby>3-2`, a:"高橋　美咲　北海道札幌市中央区南1条西3-2"},
  {q:`<ruby>田中<rt>たなか</rt></ruby>　<ruby>健<rt>けん</rt></ruby>　<ruby>京都府<rt>きょうとふ</rt></ruby><ruby>京都市<rt>きょうとし</rt></ruby><ruby>右京区<rt>うきょうく</rt></ruby><ruby>太秦<rt>うずまさ</rt></ruby>1-2-3`, a:"田中　健　京都府京都市右京区太秦1-2-3"},
  {q:`<ruby>小林<rt>こばやし</rt></ruby>　<ruby>直子<rt>なおこ</rt></ruby>　<ruby>兵庫県<rt>ひょうごけん</rt></ruby><ruby>神戸市<rt>こうべし</rt></ruby><ruby>中央区<rt>ちゅうおうく</rt></ruby><ruby>三宮町<rt>さんのみやちょう</rt></ruby>2-3-4`, a:"小林　直子　兵庫県神戸市中央区三宮町2-3-4"},
  {q:`<ruby>井上<rt>いのうえ</rt></ruby>　<ruby>大輔<rt>だいすけ</rt></ruby>　<ruby>広島県<rt>ひろしまけん</rt></ruby><ruby>広島市<rt>ひろしまし</rt></ruby><ruby>中区<rt>なかく</rt></ruby><ruby>紙屋町<rt>かみやちょう</rt></ruby>1-1-1`, a:"井上　大輔　広島県広島市中区紙屋町1-1-1"},
  {q:`<ruby>松本<rt>まつもと</rt></ruby>　<ruby>彩<rt>あや</rt></ruby>　<ruby>静岡県<rt>しずおかけん</rt></ruby><ruby>静岡市<rt>しずおかし</rt></ruby><ruby>葵区<rt>あおいく</rt></ruby><ruby>呉服町<rt>ごふくちょう</rt></ruby>3-2-1`, a:"松本　彩　静岡県静岡市葵区呉服町3-2-1"},
  {q:`<ruby>木村<rt>きむら</rt></ruby>　<ruby>翔<rt>しょう</rt></ruby>　<ruby>千葉県<rt>ちばけん</rt></ruby><ruby>千葉市<rt>ちばし</rt></ruby><ruby>中央区<rt>ちゅうおうく</rt></ruby><ruby>富士見<rt>ふじみ</rt></ruby>2-5-6`, a:"木村　翔　千葉県千葉市中央区富士見2-5-6"},
  {q:`<ruby>加藤<rt>かとう</rt></ruby>　<ruby>真由美<rt>まゆみ</rt></ruby>　<ruby>埼玉県<rt>さいたまけん</rt></ruby><ruby>さいたま市<rt>さいたまし</rt></ruby><ruby>大宮区<rt>おおみやく</rt></ruby><ruby>桜木町<rt>さくらぎちょう</rt></ruby>1-7-8`, a:"加藤　真由美　埼玉県さいたま市大宮区桜木町1-7-8"},
  {q:`<ruby>山本<rt>やまもと</rt></ruby>　<ruby>誠<rt>まこと</rt></ruby>　<ruby>宮城県<rt>みやぎけん</rt></ruby><ruby>仙台市<rt>せんだいし</rt></ruby><ruby>青葉区<rt>あおばく</rt></ruby><ruby>中央<rt>ちゅうおう</rt></ruby>1-3-1`, a:"山本　誠　宮城県仙台市青葉区中央1-3-1"},
  {q:`<ruby>中島<rt>なかじま</rt></ruby>　<ruby>愛<rt>あい</rt></ruby>　<ruby>熊本県<rt>くまもとけん</rt></ruby><ruby>熊本市<rt>くまもとし</rt></ruby><ruby>中央区<rt>ちゅうおうく</rt></ruby><ruby>下通<rt>しもとおり</rt></ruby>1-2-2`, a:"中島　愛　熊本県熊本市中央区下通1-2-2"},
  {q:`<ruby>石井<rt>いしい</rt></ruby>　<ruby>裕介<rt>ゆうすけ</rt></ruby>　<ruby>長野県<rt>ながのけん</rt></ruby><ruby>長野市<rt>ながのし</rt></ruby><ruby>南千歳<rt>みなみちとせ</rt></ruby>1-4-3`, a:"石井　裕介　長野県長野市南千歳1-4-3"},
  {q:`<ruby>清水<rt>しみず</rt></ruby>　<ruby>恵<rt>めぐみ</rt></ruby>　<ruby>岐阜県<rt>ぎふけん</rt></ruby><ruby>岐阜市<rt>ぎふし</rt></ruby><ruby>神田町<rt>かんだまち</rt></ruby>5-6-7`, a:"清水　恵　岐阜県岐阜市神田町5-6-7"},
  {q:`<ruby>森<rt>もり</rt></ruby>　<ruby>亮<rt>りょう</rt></ruby>　<ruby>奈良県<rt>ならけん</rt></ruby><ruby>奈良市<rt>ならし</rt></ruby><ruby>大宮町<rt>おおみやちょう</rt></ruby>2-1-5`, a:"森　亮　奈良県奈良市大宮町2-1-5"},
  {q:`<ruby>橋本<rt>はしもと</rt></ruby>　<ruby>由美<rt>ゆみ</rt></ruby>　<ruby>滋賀県<rt>しがけん</rt></ruby><ruby>大津市<rt>おおつし</rt></ruby><ruby>浜大津<rt>はまおおつ</rt></ruby>1-2-9`, a:"橋本　由美　滋賀県大津市浜大津1-2-9"},
  {q:`<ruby>阿部<rt>あべ</rt></ruby>　<ruby>光<rt>ひかる</rt></ruby>　<ruby>秋田県<rt>あきたけん</rt></ruby><ruby>秋田市<rt>あきたし</rt></ruby><ruby>中通<rt>なかどおり</rt></ruby>4-3-2`, a:"阿部　光　秋田県秋田市中通4-3-2"},
  {q:`<ruby>岡田<rt>おかだ</rt></ruby>　<ruby>洋子<rt>ようこ</rt></ruby>　<ruby>群馬県<rt>ぐんまけん</rt></ruby><ruby>前橋市<rt>まえばしし</rt></ruby><ruby>本町<rt>ほんまち</rt></ruby>2-4-6`, a:"岡田　洋子　群馬県前橋市本町2-4-6"},
  {q:`<ruby>藤田<rt>ふじた</rt></ruby>　<ruby>和也<rt>かずや</rt></ruby>　<ruby>山口県<rt>やまぐちけん</rt></ruby><ruby>山口市<rt>やまぐちし</rt></ruby><ruby>中央<rt>ちゅうおう</rt></ruby>3-5-1`, a:"藤田　和也　山口県山口市中央3-5-1"},
  {q:`<ruby>中村<rt>なかむら</rt></ruby>　<ruby>幸子<rt>さちこ</rt></ruby>　<ruby>福岡県<rt>ふくおかけん</rt></ruby><ruby>福岡市<rt>ふくおかし</rt></ruby><ruby>中央区<rt>ちゅうおうく</rt></ruby><ruby>天神<rt>てんじん</rt></ruby>1-1-1`, a:"中村　幸子　福岡県福岡市中央区天神1-1-1"}
];

let current=0, correct=0, miss=0;
let totalTime=600, timeLeft=totalTime;
let ended=false;
let timer=null;

const questionEl=document.getElementById("question");
const answerEl=document.getElementById("answer");
const tableBody=document.getElementById("tableBody");
const currentNoEl=document.getElementById("currentNo");
const totalCountEl=document.getElementById("totalCount");
const timerEl=document.getElementById("timer");
const summaryEl=document.getElementById("summary");
const endMessageEl=document.getElementById("endMessage");

totalCountEl.textContent = data.length;

function normalize(text){ return text.replace(/[ー－―]/g,"-").replace(/\s/g,""); }

function highlightDiff(correct, input){
  let result="", max=Math.max(correct.length,input.length);
  for(let i=0;i<max;i++){
    if(correct[i]===input[i]){ result+=input[i]||""; }
    else{ result+=`<span class="error-char">${input[i]||""}</span>`; }
  }
  return result;
}

function loadQuestion(){
  questionEl.innerHTML = data[current].q;
  answerEl.value="";
  currentNoEl.textContent = current+1;
}

answerEl.addEventListener("keydown", function(e){
  if(e.key==="Enter" && !ended){
    let raw = answerEl.value;
    let user = normalize(raw);
    let correctAnswer = normalize(data[current].a);
    let resultText="", className="", displayInput=raw;

    if(user===correctAnswer){
      resultText="正解"; className="correct"; correct++;
    } else {
      resultText="ミス"; className="miss"; miss++;
      displayInput=highlightDiff(data[current].a, raw);
    }

    let row = document.createElement("tr");
    row.innerHTML = `<td>${current+1}</td><td>${data[current].q}</td><td>${displayInput}</td><td class="${className}">${resultText}</td>`;
    tableBody.prepend(row);

    current++;
    if(current < data.length){ loadQuestion(); } else { finish(); }
  }
});

function startTimer(){
  timer = setInterval(()=>{
    if(ended) return;
    let m=Math.floor(timeLeft/60), s=timeLeft%60;
    timerEl.textContent=`残り時間: ${m}:${s.toString().padStart(2,"0")}`;
    if(timeLeft<=0){ finish(); }
    timeLeft--;
  },1000);
}

function finish(){
  if(ended) return;
  ended=true;
  clearInterval(timer);
  answerEl.disabled=true;
  let elapsed=totalTime-timeLeft;
  let m=Math.floor(elapsed/60), s=elapsed%60;
  summaryEl.innerHTML=`<h2>入力結果</h2>正解: ${correct}件　ミス: ${miss}件<br>経過時間: ${m}分${s}秒`;
  endMessageEl.textContent="練習終了です！お疲れ様でした";
}

document.getElementById("startBtn").addEventListener("click", ()=>{
  document.getElementById("startScreen").style.display="none";
  document.querySelector(".container").style.display="block";
  loadQuestion();
  answerEl.focus();
  startTimer();
});
</script>
</body>
</html>




